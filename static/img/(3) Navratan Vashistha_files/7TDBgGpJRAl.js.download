if (self.CavalryLogger) { CavalryLogger.start_js(["FdFs9"]); }

__d("AdsMultiSelectableRow.react",["cx","React","XUICheckboxInput.react","XUIRadioInput.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isMouseHovered:!1},c.$1=function(){c.setState({isMouseHovered:!0})},c.$2=function(){c.setState({isMouseHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.isItemError;return b("React").jsxs("li",{className:this.props.itemClassName,onClick:this.props.onClickHandler,children:[b("React").jsx("div",{className:"_5r_x"+(a?"":" _3wyh")+(a?" _3wyi":""),onMouseEnter:this.$1,onMouseLeave:this.$2,children:this.props.selectType==="single"?b("React").jsx(b("XUIRadioInput.react"),{checked:this.props.isItemSelected,className:"_5r_y",disabled:this.props.isDisabled,onChange:this.props.onChangeHandler}):b("React").jsx(b("XUICheckboxInput.react"),{checked:this.props.isItemSelected,className:"_5r_y",disabled:this.props.isDisabled,onChange:this.props.onChangeHandler})}),b("React").jsx("div",{className:"_5r_z"+(a?"":" _3wyh")+(a?" _3wyi":""),onMouseEnter:this.$1,onMouseLeave:this.$2,children:b("React").jsx("div",{className:"_5r_-",children:this.props.renderItemBody(this.props.item,this.props.isItemSelected,this.state.isMouseHovered)})})]})};return c}(b("React").Component);a.propTypes={isDisabled:(c=b("prop-types")).bool,isItemError:c.bool,isItemSelected:c.bool,item:c.object,itemClassName:c.string,renderItemBody:c.func.isRequired,selectType:c.oneOf(["single","multi"]),onChangeHandler:c.func.isRequired,onClickHandler:c.func.isRequired};e.exports=a}),null);
__d("AdsMultiSelectableList.react",["cx","fbt","invariant","AdsMultiSelectableRow.react","Animation","BUIAdoptionTooltip.react","FDSSpinner.react","InlineBlock.react","LeftRight.react","List.react","OnVisible.react","React","ReactDOM","XUICheckboxInput.react","joinClasses","objectValues","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=null;d.isAllItemsSelected=function(){return d.props.items.length===d.getTotalSelectedItems()&&d.props.items.length!==0};d.getTotalSelectedItems=function(){return Object.keys(d.state.selectedItems).length};d.getDefaultNoResultsView=function(){return b("React").jsx("div",{children:h._("No assets matched your search. Please try again")})};d.$3=function(a){return!d.props.isItemDisabledByID?!1:!!d.props.isItemDisabledByID[a]};d.$4=function(a,c){var e;return(e=b("React")).jsxs(b("LeftRight.react"),{className:"_5r_t",children:[e.jsxs(b("InlineBlock.react"),{children:[e.jsx("span",{className:"_5r_u",children:d.props.listTitle}),h._("({Number of items.})",[h._param("Number of items.",c)])]}),e.jsx(b("InlineBlock.react"),{children:h._("Total selected {Number of items selected.}",[h._param("Number of items selected.",a)])})]})};d.$5=function(){if(d.props.items.length===0){var a;d.props.fetchErrorText?a=d.props.fetchErrorText:d.props.noResultsView!==void 0?a=d.props.noResultsView:a=d.getDefaultNoResultsView();return b("React").jsx("div",{className:"_5r_v",children:b("React").jsx("div",{children:a})})}a={};d.props.bodyHeight&&d.props.bodyHeight>48&&(a.height=d.props.bodyHeight+"px");return b("React").jsxs(b("List.react"),{border:"none",className:"_5r_w","data-testid":"AdsMultiSelectableList_Inner",edgepadding:!1,ref:"list",spacing:"none",style:a,children:[d.$6(),d.$7()]})};d.$6=function(){var a=[],c=d.props.paging?d.props.paging.from:0,e=Math.min(d.props.items.length,d.props.paging?d.props.paging.to:d.props.items.length),f=function(c){var e=d.props.items[c],f=d.props.getItemKey(e),g=d.$8(f),h=d.props.renderError?!!d.props.renderError(e):!1;a.push(b("React").jsx(b("AdsMultiSelectableRow.react"),{isDisabled:d.$3(f),isItemError:h,isItemSelected:g,item:e,itemClassName:d.$9(f,c,h),ref:f,renderItemBody:d.props.renderItemBody,selectType:d.props.selectType,onChangeHandler:function(){return d.$10(e)},onClickHandler:function(){return d.$10(e)}},f))};for(var c=c;c<e;c++)f(c);return a};d.$7=function(){if(d.props.onLoadMore&&d.props.items.length!==d.props.itemCount)return b("React").jsx(b("OnVisible.react"),{buffer:10,onVisible:d.props.onLoadMore,children:b("React").jsx("div",{className:"_10ut",children:b("React").jsx(b("FDSSpinner.react"),{})})},d.props.items.length)};d.$9=function(a,b,c){a=d.$8(a);return"_5r__"+(c?"":" _3wyh")+(c?" _3wyi":"")+(b%2===0?" _5s00":"")+(b%2!==0?" _5s01":"")+(a?" _5s02":"")+(a&&!c?" _5yga":"")+(a&&c?" _5ygb":"")};d.$8=function(a){return Object.prototype.hasOwnProperty.call(d.state.selectedItems,a)};d.$10=function(a){var b=d.state.selectedItems,c=d.props.getItemKey(a);if(d.$3(c))return;var e=d.$8(c),f=d.props.selectType==="single";if(f){b=(f={},f[c]=a,f)}else e?delete b[c]:b[c]=a;d.$11(babelHelpers["extends"]({},b))};d.onSelectAllChange=function(){var a=d.state.selectedItems,b=!d.isAllItemsSelected();d.props.items.forEach(function(c){var e=d.props.getItemKey(c);if(d.$3(e))return;b?a[e]=c:delete a[e]});d.$11(babelHelpers["extends"]({},a))};d.$11=function(a){d.setState({selectedItems:a});var c=d.props.onSelectionChange;c&&c(b("objectValues")(a))};d.$2=function(a){a=d.refs[a];if(a){a=a.offsetTop;d.$1&&d.$1.stop();var c=b("ReactDOM").findDOMNode(d.refs.list);d.$1=new(b("Animation"))(c).to("scrollTop",a).ease(b("Animation").ease.end).duration(250).go()}};var e=c.initialSelectedItems||c.selectedItems,f={};if(e){if(c.initialSelectedItems&&c.selectedItems)throw new Error("AdsMultiSelectableList can have selectedItems or initialSelectedItems, but not both.");e.forEach(function(a){f[a.id]=a})}d.state={selectedItems:f};return d}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.scrollToItemID&&i(0,5969)};d.UNSAFE_componentWillReceiveProps=function(a){if(a.selectedItems){var b={};a.selectedItems.forEach(function(a,c,d){b[a.id]=a});this.setState({selectedItems:b})}a.scrollToItemID&&this.$2(a.scrollToItemID)};d.render=function(){var a=this.props.selectType==="single";a="_5r_q"+(a?" _1j5-":"")+(this.props.isNarrowStyle?" _43rn":"");var c=this.props.renderTopBar||this.$4,d=this.props.itemCount&&this.props.items.length!==this.props.itemCount||this.props.itemCount===0,e=d?h._("Please scroll to the bottom of the list to enable this checkbox."):"";return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,a),"data-testid":this.props["data-testid"],children:[b("React").jsxs("div",{className:"_5r_r",children:[b("React").jsx("div",{className:"_5r_s",children:c(this.getTotalSelectedItems(),this.props.itemCount||this.props.items.length)}),this.props.selectType==="single"?null:b("React").jsx(b("BUIAdoptionTooltip.react"),{tooltip:e,children:b("React").jsx("div",{className:"_5r_o",children:b("React").jsx(b("XUICheckboxInput.react"),{checked:this.isAllItemsSelected(),className:"_5r_p",disabled:d,onChange:this.onSelectAllChange})})})]}),this.$5()]})};return c}(b("React").Component);a.propTypes={items:(c=b("prop-types")).array.isRequired,itemCount:c.number,getItemKey:c.func.isRequired,renderItemBody:c.func.isRequired,listTitle:c.string.isRequired,onSelectionChange:c.func,isItemDisabledByID:c.object,selectType:c.oneOf(["single","multi"]),initialSelectedItems:c.array,selectedItems:c.array,paging:c.object,renderError:c.func,noResultsView:c.object,fetchErrorText:c.string,renderTopBar:c.func,onLoadMore:c.func,scrollToItemID:c.string,isNarrowStyle:c.bool,bodyHeight:c.number};a.defaultProps={isNarrowStyle:!1,isItemDisabledByID:null,selectType:"multi"};e.exports=a}),null);
__d("PopoverButton.react",["cx","ix","AbstractPopoverButton.react","Button.react","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("React").jsx(b("Image.react"),{src:h("101373")});a={button:b("React").jsx(b("Button.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_4-s1")})),chevron:a,defaultMaxWidth:200,chevronWidth:14};return b("React").jsx(b("AbstractPopoverButton.react"),{config:a,haschevron:this.props.haschevron,image:this.props.image,label:this.props.label,labelIsHidden:this.props.labelIsHidden,maxwidth:this.props.maxwidth})};return c}(b("React").Component);c.propTypes={haschevron:a.bool,label:a.node,labelIsHidden:a.bool,maxwidth:a.number};e.exports=c}),null);
__d("Selector.react",["AbstractSelector.react","PopoverButton.react","React","ReactMenu"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ReactMenu").SelectableMenu;a=b("ReactMenu").SelectableItem;c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a={button:b("React").jsx(b("PopoverButton.react"),{rel:"toggle",suppressed:this.props.suppressed}),menu:b("React").jsx(g,{})};return b("React").jsx(b("AbstractSelector.react"),babelHelpers["extends"]({},this.props,{overlappingborder:!0,config:a,children:this.props.children}))};return c}(b("React").Component);c.Option=a;e.exports=c}),null);
__d("FBAssetSelector.react",["cx","fbt","ix","AdsFilterWidgets.react","AdsGenericFilterField","AdsMultiSelectableList.react","Image.react","InlineBlock.react","LeftRight.react","React","Selector.react","XUIButton.react","XUIPagerButtons.react","XUISpinner.react","cxMargin","emptyFunction","hasSubstring","objectValues","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Selector.react").Option,k=["displayName","name","id"];function l(a,b,c){c=c||2;var d=a.substring(0,Math.min(a.length,c)),e=b.substring(0,Math.min(b.length,c));return c<5&&d===e&&a!==b?l(a,b,c+1):[d.toLowerCase(),e.toLowerCase()]}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$10=function(a){return a.id};d.$1=function(a){d.setState({visibleAssets:d.$12(a,d.state)})};d.$2=function(a){return!!(d.props.maxRowsPerPage&&a.length>d.props.maxRowsPerPage)};d.$13=function(a){var b=d.state.pagingIndex;if(b>=a.length-1){var c=a.length%d.props.maxRowsPerPage||d.props.maxRowsPerPage;b=a.length-c}return b};d.$9=function(a){if(d.$2(a)){var b=d.$13(a);a=Math.min(a.length,b+d.props.maxRowsPerPage);return{from:b,to:a}}return null};d.$3=function(a){var c,e=d.$13(a),f=Math.ceil(a.length/d.props.maxRowsPerPage);e=Math.floor(e/d.props.maxRowsPerPage)+1;var g=h._("(Page {pageNumber} of {totalPageCount})",[h._param("pageNumber",e),h._param("totalPageCount",f)]);return(c=b("React")).jsx("div",{className:"_xfn",children:c.jsxs(b("LeftRight.react"),{children:[c.jsx("div",{children:d.$14(a)}),c.jsxs("div",{children:[c.jsx("span",{className:"_xfo",children:g}),c.jsxs(b("XUIPagerButtons.react"),{children:[c.jsx(b("XUIButton.react"),{className:e===1?"disabled":"",disabled:e===1,image:b("React").jsx(b("Image.react"),{src:i("101339")}),label:h._("Previous"),labelIsHidden:!0,size:"small",onClick:d.$15}),b("React").jsx(b("XUIButton.react"),{className:e===f?"disabled":"",disabled:e===f,image:b("React").jsx(b("Image.react"),{src:i("101341")}),label:h._("Next"),labelIsHidden:!0,size:"small",onClick:d.$16})]})]})]})},"pager")};d.$15=function(){d.setState({pagingIndex:Math.max(0,d.state.pagingIndex-d.props.maxRowsPerPage)})};d.$16=function(){d.setState({pagingIndex:Math.min(d.state.visibleAssets.length-d.state.visibleAssets.length%d.props.maxRowsPerPage,d.state.pagingIndex+d.props.maxRowsPerPage)})};d.$17=function(a){var c=a.displayName||a.name,e;d.props.renderSubtitle&&(e=d.props.renderSubtitle(a));return b("React").jsxs("div",{className:(e?"_xfp":"")+(e?"":" _4_xa"),children:[b("React").jsx("div",{children:c}),b("React").jsx("div",{className:"_xfq"+(e?"":" hidden_elem"),children:e})]})};d.$11=function(a,c){var e=!d.props.isNarrowStyle&&d.props.renderImageForAssetFunction(a),f=d.props.renderError?d.props.renderError(a):null;c=d.props.renderExtrasForAssetFunction&&d.props.renderExtrasForAssetFunction(a,c,!!f);return b("React").jsxs(b("InlineBlock.react"),{className:"_xfs"+(f?" _xft":""),children:[b("React").jsx("div",{className:"_xfu",children:e}),b("React").jsxs("div",{className:"_xfv",children:[b("React").jsx("span",{className:"rfloat mrm",children:c}),b("React").jsxs("div",{className:e?"_xfw":"",children:[d.$17(a),b("React").jsx("div",{className:"_xfx",children:f})]})]})]})};d.$12=function(a,c){__p&&__p();if(a){if(c.selectedFilterValue!==""){var e=c.selectedFilterValue,f=d.props.filterAssetsByID||{};a=a.filter(function(a){return Object.prototype.hasOwnProperty.call(f[e],a.id)},babelHelpers.assertThisInitialized(d))}if(c.filterText){var g=c.filterNegative;a=a.filter(function(a){a=b("hasSubstring")(a,k,c.filterText);return g?!a:a},babelHelpers.assertThisInitialized(d))}return a}return[]};d.$6=function(){var a=[b("React").jsx(j,{value:"",children:d.props.noFilterOptionLabel},"empty_option")],c=b("objectValues")(d.props.filtersByID||{});d.props.filterSortFunction&&c.sort(d.props.filterSortFunction);var e=d.props.filterPrefixFunction;c.forEach(function(c){var d=c.name||c.id,f=e?e(d):d;a.push(b("React").jsx(j,{value:c.id,children:f},d))});return a};d.$8=function(a){var b=!1;a.indexOf("-")===0&&(b=!0,a=a.substring(1));d.$18({pagingIndex:0,filterNegative:b,filterText:a})};d.$7=function(a){d.$18({pagingIndex:0,selectedFilterValue:a})};d.$18=function(a){a=babelHelpers["extends"]({},d.state,a);var b=d.$12(d.props.assets,a);d.setState(Object.assign(a,{visibleAssets:b}))};d.state={filterNegative:!1,filterText:"",pagingIndex:0,selectedFilterValue:"",visibleAssets:[]};return d}var d=c.prototype;d.componentDidMount=function(){this.$1(this.props.assets)};d.UNSAFE_componentWillReceiveProps=function(a){Object.prototype.hasOwnProperty.call(a,"assets")&&this.$1(a.assets)};d.render=function(){var a=null,c=this.state.visibleAssets,d=this.$2(c);d&&(a=this.$3(c));return b("React").jsxs("div",{children:[this.$4(),a,this.$5(d)]})};d.$4=function(){return b("React").jsx(b("AdsFilterWidgets.react"),{className:"_3-96",selectorOptions:this.$6(),initialSelectorValue:"",onSelectorChange:this.$7,onTextChange:this.$8,hasSelector:!!this.props.hasSelector,onFilterSetChange:this.props.onFilterSetChange,selectorFilterField:this.props.selectorFilterField,textFilterField:this.props.textFilterField,placeholder:this.props.filterPlaceholder},"filter")};d.$5=function(a){var c=this.state.visibleAssets;return this.props.assets?b("React").jsx(b("AdsMultiSelectableList.react"),{scrollToItemID:this.props.scrollToItemID,items:c,paging:this.$9(c),initialSelectedItems:this.props.initialSelectedAssets,selectedItems:this.props.selectedAssets,selectType:this.props.selectType,getItemKey:this.$10,renderItemBody:this.$11,onSelectionChange:this.props.onSelectionChange||b("emptyFunction"),listTitle:this.props.listTitle,fetchErrorText:this.props.fetchErrorText,renderTopBar:this.props.renderTopBar,renderError:this.props.renderError,onLoadMore:this.props.onLoadMore,itemCount:this.props.assetCount,noResultsView:this.props.noResultsView,isNarrowStyle:this.props.isNarrowStyle,bodyHeight:this.props.bodyHeight-(a?32:0)},"list"):b("React").jsx("div",{className:"_5tln",children:b("React").jsx(b("XUISpinner.react"),{size:"large"})},"spinner")};d.$14=function(a){if(this.props.isNarrowStyle)return null;var b=this.$9(a);a=l(a[b.from].name,a[b.to-1].name,2);b=a[0];a=a[1];return h._("({lettersFrom} - {lettersTo})",[h._param("lettersFrom",b),h._param("lettersTo",a)])};return c}(b("React").Component);a.propTypes={assets:(c=b("prop-types")).array,assetCount:c.number,hasSelector:c.bool,initialSelectedAssets:c.array,selectedAssets:c.array,selectType:c.oneOf(["single","multi"]),filtersByID:c.object,filterAssetByID:c.object,filterPrefixFunction:c.func,filterSortFunction:c.func,listTitle:c.string.isRequired,maxRowsPerPage:c.number,renderImageForAssetFunction:c.func.isRequired,renderExtrasForAssetFunction:c.func,onSelectionChange:c.func,renderError:c.func,noFilterOptionLabel:c.string,fetchErrorText:c.string,renderTopBar:c.func,renderSubtitle:c.func,onFilterSetChange:c.func,textFilterField:c.instanceOf(b("AdsGenericFilterField")),selectorFilterField:c.instanceOf(b("AdsGenericFilterField")),scrollToItemID:c.string,noResultsView:c.object,filterPlaceholder:c.string,isNarrowStyle:c.bool,bodyHeight:c.number};a.defaultProps={selectType:"multi",noFilterOptionLabel:h._("(None)")};e.exports=a}),null);
__d("AdsAccountSelector.react",["cx","fbt","ix","FBAssetSelector.react","Image.react","React","SUIBusinessTheme","SUIText.react","XUINotice.react","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=25,k=100;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c,d)||this;e.$1=function(a){__p&&__p();var b={},c={},d=0;a.accounts&&a.accounts.length>0&&a.accounts.forEach(function(a){if(a.business){var e=a.business.id;b[e]||d++;b[e]=a.business;c[e]=c[e]||{};c[e][a.id]=!0}});return{filtersByID:b,filterAssetsByID:c,businessCount:d}};e.$3=function(a){e.props.onSelectionChange&&e.props.onSelectionChange(a),e.setState({accountSelectionCount:a.length})};e.$2=function(a){return b("React").jsx(b("Image.react"),{src:i("26944")})};d=e.$1(c);e.state=babelHelpers["extends"]({},d,{accountSelectionCount:c.initialSelectedAccounts?c.initialSelectedAccounts.length:0});return e}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.setState(this.$1(a))};d.render=function(){__p&&__p();if(this.props.accounts&&this.props.accounts.length>0){var a=this.state.accountSelectionCount>j?b("React").jsx(b("XUINotice.react"),{className:"_5sh0",children:h._("Downloading many accounts can take a long time.")}):null;return b("React").jsxs("div",{children:[b("React").jsx(b("FBAssetSelector.react"),{assets:this.props.accounts,bodyHeight:this.props.bodyHeight,filterAssetsByID:this.state.filterAssetsByID,filterPrefixFunction:function(a){return h._("Business: {businessName}",[h._param("businessName",a)])},filterSortFunction:function(a){return a.name},filtersByID:this.state.filtersByID,hasSelector:this.state.businessCount>0,initialSelectedAssets:this.props.initialSelectedAccounts,isNarrowStyle:this.props.isNarrowStyle,listTitle:h._("Accounts"),maxRowsPerPage:this.props.maxAccountsPerPage||k,renderImageForAssetFunction:this.$2,selectType:this.props.selectType,onSelectionChange:this.$3}),a]})}else if(this.props.isEmpty)return b("React").jsx("div",{className:"_5sh1",children:b("React").jsx(b("XUINotice.react"),{children:h._("No Ad Accounts Found")})});else if(!this.props.isError)return b("React").jsxs("div",{className:"_5sh2",children:[b("React").jsx(b("SUIText.react"),{display:"block",size:"large_DEPRECATED",style:{padding:"10px"},textAlign:"center",theme:b("SUIBusinessTheme"),children:h._("Loading Your Accounts")}),b("React").jsx(b("XUISpinner.react"),{background:"light",size:"large"})]});else return b("React").jsx("div",{children:b("React").jsx(b("XUINotice.react"),{use:"warn",children:h._("Loading accounts failed. Please check your internet connection and refresh your browser")})})};return c}(b("React").Component);a.propTypes={accounts:(c=b("prop-types")).array,bodyHeight:c.number,initialSelectedAccounts:c.array,isEmpty:c.bool,isError:c.bool,isNarrowStyle:c.bool,maxAccountsPerPage:c.number,selectType:c.oneOf(["single","multi"]),onSelectionChange:c.func};a.defaultProps={selectType:"multi"};e.exports=a}),null);