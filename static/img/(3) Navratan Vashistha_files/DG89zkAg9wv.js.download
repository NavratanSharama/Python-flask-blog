if (self.CavalryLogger) { CavalryLogger.start_js(["gNnJW"]); }

__d("highlight",["Animation","Style"],(function(a,b,c,d,e,f){function a(a,c,d,e){d===void 0&&(d="#fff9d7"),e===void 0&&(e="#fff"),new(b("Animation"))(a).from("background",e).to("background",d).ease(b("Animation").ease.both).duration(2e3).ondone(function(){b("Style").set(a,"background",""),c&&c()}).go()}e.exports=a}),null);
__d("LtgPostTranslation",["cx","Arbiter","AsyncRequest","ContentTranslationStrings","DOM","Event","LoadingIndicator.react","React","ReactDOM","XLtgPostTranslationController","collectDataAttributes","ge","highlight"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={_renderTranslation:function(a,c){if(!a||!a.parentNode)return;var d=b("DOM").create("div",{className:"_63tb"},c||b("ContentTranslationStrings").NO_TRANSLATION_AVAILABLE);b("DOM").replace(a,d);c&&b("highlight")(d)},bindListener:function(a,c){__p&&__p();var d=this;b("Event").listen(a,"click",function(e){__p&&__p();e.prevent();var f=b("ge")("translationSpinnerPlaceholder_"+c);f&&b("ReactDOM").render(b("React").jsx(b("LoadingIndicator.react"),{size:"small",color:"white"}),f);f=e.getTarget();e=b("collectDataAttributes")(f,["ft"]);f=b("XLtgPostTranslationController").getURIBuilder().setString("ftid",c).setString("data_ft",JSON.stringify(e.ft)).getURI();new(b("AsyncRequest"))().setURI(f).setHandler(function(c){c=c.getPayload();d._renderTranslation(a,c&&c.text);b("Arbiter").inform("ufi/translationRendered")}).setErrorHandler(function(){d._renderTranslation(a,null)}).send()})}};e.exports=a}),null);
__d("SSurvey",["csx","ArbiterMixin","AsyncRequest","CSS","DOM","Form","highlight","mixin"],(function(a,b,c,d,e,f,g){__p&&__p();var h=200;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h){var i;i=a.call(this)||this;i.id=b;i.questions={};i.context=e;d||(d={});i.init(c,d,f,g,h);return i}var d=c.prototype;d.init=function(a,c,d,e,f){__p&&__p();this.form=a;this.currentQuestions=c;this.finishedQuestions={};this.subscriptions=[];this.submitURI=f;e&&b("highlight")(this.form.controller);this.subscriptions.push(a.subscribe("submit",function(){this.informSurveyAdvance()}.bind(this)));for(var g in c){f=c[g];this.questions[g]=f;d=d&&f&&f.hasLogicalFinish();f&&this.subscriptions.push(f.subscribeFinished(this.updateQuestionStatus.bind(this,f,!0)))}d?this.hideFooter():this.showFooter();this.autosubmit=d?!0:!1;this.informSurveyLoaded()};d.destroy=function(){while(this.subscriptions.length)this.subscriptions.pop().unsubscribe()};d.getSubmitURI=function(){return this.submitURI};d.getID=function(){return this.id};d.getQuestion=function(a){return this.questions[a]};d.getCurrentQuestions=function(){return this.questions};d.shouldAutosubmit=function(){return this.autosubmit};d.getForm=function(){return this.form};d.getContextData=function(){return this.context};d.getQuestionValues=function(){var a={};for(var b in this.currentQuestions){var c=this.currentQuestions[b];c&&(a[b]=c.getValue())}return a};d.getQuestionValueIndices=function(){var a={};for(var b in this.currentQuestions){var c=this.currentQuestions[b];c&&(a[b]=c.getValueIndex())}return a};d.hideFooter=function(){var a=b("DOM").scry(this.form.getRoot(),"._5k72")[0];a&&b("CSS").hide(a)};d.showFooter=function(){var a=b("DOM").scry(this.form.getRoot(),"._5k72")[0];a&&b("CSS").show(a)};d.updateQuestionStatus=function(a,c){if(!c){delete this.finishedQuestions[a.getID()];return}this.finishedQuestions[a.getID()]=!0;c=Object.keys(this.finishedQuestions).length;a=Object.keys(this.currentQuestions).length;this.autosubmit&&c===a&&(b("Form").setDisabled(this.form.getRoot(),!0),window.setTimeout(this.submit.bind(this),h))};d.informSurveyLoaded=function(){this.inform("survey/loaded",this.getQuestionValueIndices())};d.informSurveyAdvance=function(){this.inform("survey/advance",this.getQuestionValueIndices())};d.informSurveyFinished=function(){this.inform("survey/finished")};d.informSurveySkipped=function(){this.inform("survey/skipped")};d.subscribeSurveyLoaded=function(a){return this.subscribe("survey/loaded",a)};d.subscribeSurveyAdvance=function(a){return this.subscribe("survey/advance",a)};d.subscribeSurveyFinished=function(a){return this.subscribe("survey/finished",a)};d.subscribeSurveySkipped=function(a){return this.subscribe("survey/skipped",a)};d.submit=function(a){var c=b("DOM").scry(this.form.getRoot(),"._8ot_");b("Form").setDisabled(this.form.getRoot(),!1);if(c.length!=1||a){this.submitWithAsyncRequest(a);return}c[0].click()};d.submitWithAsyncRequest=function(a){var c=this.form.getRoot(),d=b("Form").serialize(c);d=new(b("AsyncRequest"))().setMethod("POST").setURI(this.submitURI).setData(d).setRelativeTo(c);a&&d.setHandler(a);b("Form").setDisabled(this.form.getRoot(),!0);d.send();this.informSurveyAdvance()};return c}(b("mixin")(b("ArbiterMixin")));a.SSurvey=e.exports=c}),null);
__d("SSurveyQuestionBase",["ArbiterMixin","mixin"],(function(a,b,c,d,e,f){__p&&__p();c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.id=b;return c}var c=b.prototype;c.getID=function(){return this.id};c.getValue=function(){return null};c.getValueIndex=function(){return null};c.informValueChanged=function(){this.inform("survey/question/changed",this.getValue())};c.informFinished=function(){this.inform("survey/question/finished")};c.subscribeValueChanged=function(a){return this.subscribe("survey/question/changed",a)};c.subscribeFinished=function(a){return this.subscribe("survey/question/finished",a)};c.hasLogicalFinish=function(){return!1};return b}(b("mixin")(b("ArbiterMixin")));a.SSurveyQuestionBase=e.exports=c}),null);
__d("SSurveyUniversalFeedbackAnimationContainer",["csx","Animation","DOM","Event","Run"],(function(a,b,c,d,e,f,g){__p&&__p();c=function(){"use strict";__p&&__p();function a(a){this.container=a;b("DOM").scry(a,"div._41y").forEach(function(a){new(b("Animation"))(a).from("opacity",0).to("opacity",1).duration(300).ease(b("Animation").ease.end).go()});a=b("DOM").scry(a,"button._sk6")[0];a&&(this.submitListener=b("Event").listen(a,"click",this.onclick.bind(this)),b("Run").onLeave(this.destroySubmitListener.bind(this)))}var c=a.prototype;c.onclick=function(a){new(b("Animation"))(this.container).to("height",16).duration(300).go(),new(b("Animation"))(this.container).to("opacity",0).duration(300).ease(b("Animation").ease.end).go(),this.destroySubmitListener()};c.destroySubmitListener=function(){this.submitListener.remove()};return a}();a.SSurveyUniversalFeedbackAnimationContainer=e.exports=c}),null);
__d("SSurveyUniversalFeedbackInline",["cx","Animation","CSS","DOM","Event","Run","SSurveyQuestionBase","ge"],(function(a,b,c,d,e,f,g){__p&&__p();c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i){__p&&__p();c=a.call(this,c)||this;c.options=d;c.questionText=e;c.questionContainer=f;c.localeIsRTL=g;c.noAnimation=h;c.isBigSmile=i;c.listeners=[];for(var e=0;e<d.length;e++){f=d[e];g=b("DOM").find(f,"input");c.listeners.push(b("Event").listen(g,"click",c.onclick.bind(babelHelpers.assertThisInitialized(c))))}b("Run").onLeave(c.destroyListeners.bind(babelHelpers.assertThisInitialized(c)));return c}var d=c.prototype;d.hasLogicalFinish=function(){return!0};d.getValue=function(){for(var a=0;a<this.options.length;a++){var c=this.options[a];c=b("DOM").find(c,"input");if(c&&c.checked)return[c.value]}return null};d.getValueIndex=function(){for(var a=0;a<this.options.length;a++){var c=this.options[a];c=b("DOM").find(c,"input");if(c&&c.checked)return[a]}return null};d.onclick=function(a){this.animate(),this.destroyListeners(),this.informValueChanged(),this.informFinished(),this.showEditButton()};d.showEditButton=function(){var a=b("ge")("edit_helpful_score");a!=null&&b("CSS").removeClass(a,"hidden_elem")};d.animate=function(){__p&&__p();this.noAnimation?this.fadeout(this.questionText):this.fadeoutAndShrink(this.questionText);new(b("Animation"))(this.questionContainer).to("height",124).duration(500).go();for(var a=0;a<this.options.length;a++){var c=this.options[a],d=b("DOM").find(c,"input");c=b("DOM").find(c,"div");if(!this.noAnimation&&d&&d.checked){b("CSS").addClass(c,"_4x8l");d=this.localeIsRTL?"right":"left";var e=this.isBigSmile?102:0;new(b("Animation"))(c).to(d,e).to("top",0).ease(b("Animation").ease.end).duration(500).go()}else this.fadeout(c)}};d.fadeout=function(a){new(b("Animation"))(a).to("opacity",0).duration(300).ease(b("Animation").ease.end).hide().go()};d.fadeoutAndShrink=function(a){new(b("Animation"))(a).to("opacity",0).to("height",0).to("margin",0).duration(500).ease(b("Animation").ease.end).hide().go()};d.destroyListeners=function(){this.listeners.forEach(function(a){a&&a.remove()}),this.listeners=[]};return c}(b("SSurveyQuestionBase"));a.SSurveyUniversalFeedbackInline=e.exports=c}),null);
__d("FormDisableOnSubmit",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._form=a}var b=a.prototype;b.enable=function(){this._subscription=this._form.subscribe(["submit","reset"],this._handle.bind(this))};b.disable=function(){this._form.unsubscribe(this._subscription),this._subscription=null};b._handle=function(a,b){if(a=="submit"){if(this._disabled)return!1;this._disabled=!0;return!0}this._disabled=!1};return a}();Object.assign(a.prototype,{_subscription:null,_disabled:!1});e.exports=a}),null);
__d("UIForm",["ArbiterMixin","BehaviorsMixin","DOM","Event","Form","Run","areJSONRepresentationsEqual","mixin"],(function(a,b,c,d,e,f){__p&&__p();c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g){__p&&__p();var h;h=a.call(this)||this;h._root=c;h.controller=c;h._message=d;f&&(h._confirm_dialog=f,f.subscribe("confirm",h._handleDialogConfirm.bind(babelHelpers.assertThisInitialized(h))),b("DOM").prependContent(h._root,b("DOM").create("input",{type:"hidden",name:"confirmed",value:"true"})));b("Run").onAfterLoad(function(){this._originalState=b("Form").serialize(this._root)}.bind(babelHelpers.assertThisInitialized(h)));h._forceDirty=e;h._confirmed=!1;h._submitted=!1;b("Event").listen(h._root,"submit",h._handleSubmit.bind(babelHelpers.assertThisInitialized(h)));g&&g.length&&h.enableBehaviors(g);c=!0;b("Run").onBeforeUnload(h.checkUnsaved.bind(babelHelpers.assertThisInitialized(h)),c);return h}var d=c.prototype;d.getRoot=function(){return this._root};d._handleSubmit=function(){if(this._confirm_dialog&&!this._confirmed){this._confirm_dialog.show();return!1}if(this.inform("submit")===!1)return!1;this._submitted=!0;return!0};d._handleDialogConfirm=function(){this._confirmed=!0,this._confirm_dialog.hide(),this._root.getAttribute("ajaxify")?b("Event").fire(this._root,"submit"):this._handleSubmit()&&this._root.submit()};d.reset=function(){this.inform("reset"),this._submitted=!1,this._confirmed=!1};d.isDirty=function(){if(this._submitted||!b("DOM").contains(document.body,this._root))return!1;if(this._forceDirty)return!0;if(!this._originalState)return!1;var a=b("Form").serialize(this._root);return!b("areJSONRepresentationsEqual")(a,this._originalState)};d.checkUnsaved=function(){return this.isDirty()?this._message:null};return c}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));e.exports=a.UIForm||c}),null);