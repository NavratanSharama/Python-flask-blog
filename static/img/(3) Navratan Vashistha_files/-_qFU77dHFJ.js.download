if (self.CavalryLogger) { CavalryLogger.start_js(["3Pq26"]); }

__d("TimeOffset",["DateConsts"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={timeToTimestamp:function(a){if(a<=0)return"0:00";var b=Math.floor(a/3600),c=b?b+":":"";c+=((b?"0":"")+Math.floor(a%3600/60)).slice(-2)+":";return c+("0"+a%60).slice(-2)},timestampToTime:function(a){a=a.match(/(?:(\d{1,2}):)?(?:(\d{1,2}):)?(\d{1,2})/);if(!a)return-1;var c=parseInt(a[3],10);a[1]&&!a[2]?c+=parseInt(a[1],10)*b("DateConsts").SEC_PER_MIN:a[1]&&a[2]&&(c+=parseInt(a[1],10)*b("DateConsts").SEC_PER_HOUR+parseInt(a[2],10)*b("DateConsts").SEC_PER_MIN);return c}};e.exports=a}),null);
__d("LiveFeedStoryUFICommentBody.react",["cx","fbt","Locale","Middot.react","React","RelayFBMatchContainer","ShimButton.react","TimeOffset","Tooltip.react","TrackingNodes","UFI2CometRelayCreateFragmentContainer","UFI2CommentActorLink.react","UFI2CommentBodyStandaloneEmoji.react","UFI2CommentBodyTextWithEntities.react","UFIVideoPlayerRegistry","UnicodeBidi","isStandaloneEmoji","joinClasses","LiveFeedStoryUFICommentBody_comment.graphql","LiveFeedStoryUFICommentBody_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=b("React").useRef;c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function l(a){__p&&__p();var c=a.comment;a=a.isHighlighted;if(c&&c.preferred_body)switch(c.preferred_body.__typename){case"TextWithEntities":if(c.preferred_body.text!=null){var d=c.preferred_body,e=d.text;d=babelHelpers.objectWithoutPropertiesLoose(d,["text"]);e=b("UnicodeBidi").isDirectionRTL(e);var f=b("Locale").isRTL(),g=(!e&&f?"_5wjy":"")+(e&&!f?" _5wj-":"")+(!e&&f?" _5wjz":"")+(e&&!f?" _5wj_":"");if(g){e=!e&&f?"ltr":"rtl";return b("React").jsx("div",{className:g,children:b("React").jsx(b("UFI2CommentBodyTextWithEntities.react"),{comment:c,dir:e,isHighlighted:a,textWithEntities:d})})}}return b("React").jsx(b("UFI2CommentBodyTextWithEntities.react"),{comment:c,isHighlighted:a,textWithEntities:c.preferred_body})}return null}function a(a){__p&&__p();var c,d=a.comment,e=a.feedback,f=a.isActiveCowatching,g=a.showRepliesAtTopLevel,i=a.isHighlighted,j=d.preferred_body,m=j!=null&&j.text!=null&&b("isStandaloneEmoji")(j.text),n;(d==null?void 0:d.spam_display_mode)!=="none"?n=h._("This comment has been hidden."):m?n=b("React").jsx("div",{children:b("React").jsx(b("UFI2CommentBodyStandaloneEmoji.react"),{comment:d,isHighlighted:i})}):n=l(a);i=(d==null?void 0:d.identity_badges_web)!=null&&d.identity_badges_web.length>0?d.identity_badges_web[0]:null;i=b("React").jsx(b("RelayFBMatchContainer"),{match:i,props:{comment:d}});var o=e==null?void 0:(c=e.associated_video)==null?void 0:c.id,p=k(null);c=(c=(c=d.comment_parent)==null?void 0:(c=c.author)==null?void 0:c.first_name)!=null?c:(c=d.comment_parent)==null?void 0:(c=c.author)==null?void 0:c.name;return b("React").jsxs("div",{className:b("joinClasses")((d.optimistic_error!=null&&!m&&j!=null?"_6w8z":"")+" _6w8-"+(m?" _7iek":""),a.className),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_MESSAGE),"data-testid":"UFI2Comment/body",ref:p,children:[g!==!0||c==null?null:b("React").jsx("div",{className:"_7f8h",children:h._("Replying to {name}",[h._param("name",c)])}),b("React").jsx(b("React").Suspense,{fallback:null,children:i}),b("React").jsxs("div",{className:"_73j8",children:[b("React").jsx(b("UFI2CommentActorLink.react"),{className:"_6w8_",comment:d,feedback:e}),f!==!0?d.written_while_video_was_live===!0?b("React").jsx(b("Tooltip.react"),{tooltip:h._("Comment posted while the video was live"),children:b("React").jsx(b("Middot.react"),{className:"_6w90"})}):b("React").jsx(b("Tooltip.react"),{tooltip:h._("Comment posted after the live video ended"),children:b("React").jsx(b("Middot.react"),{className:"_6w91"})}):null,d.timestamp_in_video!=null&&f!==!0?b("React").jsx(b("ShimButton.react"),{className:"_6w92",disabled:Boolean(o),form:"link",onClick:function(){if(o==null||p.current==null)return;var a=b("UFIVideoPlayerRegistry").findVideoPlayerControllerForElement(p.current,o);if(a==null)return;a.pause("seek_initiated");a.seek(d.timestamp_in_video);a.play("seek_initiated")},children:b("TimeOffset").timeToTimestamp(d.timestamp_in_video)}):null,n!==null?b("React").jsxs(b("React").Fragment,{children:[" ",n]}):null]})]})}a.displayName="LiveFeedStoryUFICommentBody";e.exports=c(a,{comment:i!==void 0?i:i=b("LiveFeedStoryUFICommentBody_comment.graphql"),feedback:j!==void 0?j:j=b("LiveFeedStoryUFICommentBody_feedback.graphql")})}),null);
__d("JSResourceForInteraction",["JSResource"],(function(a,b,c,d,e,f){function a(a,c){return b("JSResource").call(null,a)}e.exports=a}),null);
__d("LiveVideoUFIAnnouncement.react",["cx","FlexibleBlock.react","InlineBlock.react","JSResource","React","UFI2CometRelayCreateFragmentContainer","UFICommentLiveVideoAnnouncementImage.react","lazyLoadComponent","nullthrows","LiveVideoUFIAnnouncement_announcement.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("UFI2CometRelayCreateFragmentContainer").graphql;var i=b("lazyLoadComponent")(b("JSResource")("UFILiveVideoAnnouncementCTAContainer.react").__setRef("LiveVideoUFIAnnouncement.react")),j=b("React").useMemo;h!==void 0?h:h=b("LiveVideoUFIAnnouncement_announcement.graphql");function k(a){if(a.length>=8){var b=a.replace("#","");return"#"+b.slice(2)+b.slice(0,2)}return"#"+a.replace("#","")}function a(a){var c,d=j(function(){var c;return{accentColor:a.announcement.accent_color!=null?k(a.announcement.accent_color):"#B2B2B2",body:a.announcement.message,broadcastSubscriptionStatus:b("nullthrows")(a.announcement.broadcast_subscription_status,"Expected a `broadcast_subscription_status`."),ctaAction:b("nullthrows")(a.announcement.cta_action,"Expected a `cta_action`."),ctaGlyphName:a.announcement.cta_glyph,ctaGlyphNameOff:a.announcement.cta_glyph_off,ctaLink:a.announcement.cta_link,ctaState:Boolean(a.announcement.cta_state),ctaTextOff:a.announcement.cta_text_off||"",ctaTextOn:a.announcement.cta_text_on||"",ftentidentifier:a.legacyFeedbackID,glyphName:b("nullthrows")(a.announcement.glyph_name,"Expected a `glyph_name`."),id:a.legacyFeedbackID+((c=a.announcement.name)!=null?c:"UNKNOWNNAME")+((c=a.announcement.level)!=null?c:"UNKNOWNLEVEL"),image:a.announcement.image,isAnnouncement:!0,isJoinEvent:!1,targetID:(c=a.announcement.target)==null?void 0:c.id}},[a.announcement,a.legacyFeedbackID]);return(c=b("React")).jsxs(b("FlexibleBlock.react"),{className:"_7m_7",flex:b("FlexibleBlock.react").FLEX.right,children:[c.jsx("div",{className:"_7m_8",children:c.jsx(b("UFICommentLiveVideoAnnouncementImage.react"),{accentColor:d.accentColor,contextArgs:null,glyphName:d.glyphName,image:d.image,isJoinEvent:!1})}),c.jsx("div",{children:c.jsxs("div",{className:"_7m_9",children:[c.jsx(b("InlineBlock.react"),{alignv:"middle",height:0,children:a.announcement.message}),c.jsx(c.Suspense,{fallback:c.jsx("span",{}),children:c.jsx(i,{comment:d,contextArgs:null})})]})})]})}e.exports=a}),null);
__d("LiveVideoUFIAnnouncementFetcher",["regeneratorRuntime","ActorURIConfig","ErrorUtils","RelayFBOperationLoader","RelayFBResponseCache","RelayModern","RelayRuntime","ServerTime","SubscriptionList","clearTimeout","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","resolveImmediate","setTimeoutAcrossTransitions","stableStringify","LiveVideoUFIAnnouncementFetcherQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("RelayModern").fetchQuery;b("RelayModern").graphql;var j=b("RelayRuntime").Environment,k=b("RelayRuntime").RecordSource,l=b("RelayRuntime").Store,m=g!==void 0?g:g=b("LiveVideoUFIAnnouncementFetcherQuery.graphql"),n={};a=function(){__p&&__p();var a=c.prototype;a.$11=function(){var a=this,c=this.$3,d=this.$2.length>0?3e4:1e4;d=c==null?0:Math.max(0,d-(Date.now()-c));d===0?this.$12():this.$5=b("setTimeoutAcrossTransitions")(function(){a.$12()},d)};a.$12=function(){__p&&__p();var a,c,d,e,f,g,h,j,k,l,n,o,p;return b("regeneratorRuntime").async(function(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:q.prev=0;c=this.$2;if(!(c.length>0)){q.next=6;break}a=c.shift();q.next=12;break;case 6:q.next=8;return b("regeneratorRuntime").awrap(i(this.$1,m,this.$9,{force:!0}));case 8:f=q.sent,g=(d=f.video)==null?void 0:(e=d.announcements)==null?void 0:e.edges,h=g&&g.map(function(a){a=a.node;return a}).filter(Boolean),h!=null&&h.length>0&&(a=h.shift(),(j=this.$2).push.apply(j,h));case 12:this.$3=Date.now();a&&((k=a,l=k.level,n=k.name),o=this.$6.findIndex(function(a){a=a.node;return a.level===l&&a.name===n}),o!==-1?this.$6[o].node=a:(p={node:a,time:Math.floor(b("ServerTime").getMillis()/1e3)},this.$6.push(p)),this.$8.fireCallbacks([].concat(this.$6)));this.$4===!1&&this.$11();q.next=21;break;case 17:q.prev=17,q.t0=q["catch"](0),this.$3=Date.now(),this.$4===!1&&this.$11();case 21:case"end":return q.stop()}},null,this,[[0,17]])};function c(a,c){__p&&__p();var d=this;this.$2=[];this.$3=null;this.$4=!1;this.$5=null;this.$6=[];this.$7=null;this.$10=function(){d.$4=!1,d.$7=Date.now(),d.$11()};this.$13=function(){d.$4=!0,d.$5!=null&&(b("clearTimeout")(d.$5),d.$5=null)};var e=new k();e=new l(e,{gcReleaseBufferSize:10,gcScheduler:b("resolveImmediate"),operationLoader:b("RelayFBOperationLoader")});var f=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")({getAdditionalData:function(){var c;return c={},c[b("ActorURIConfig").PARAMETER_ACTOR]=a,c},queryResponseCache:b("RelayFBResponseCache")}),b("createRelayFBSubscribeFunction")({}));this.$1=new j({configName:"LiveVideoUFIAnnouncementFetcherEnvironment",network:f,operationLoader:b("RelayFBOperationLoader"),store:e});this.$8=new(b("SubscriptionList"))(this.$10,this.$13);this.$9=c}a.subscribe=function(a){a=(h||(h=b("ErrorUtils"))).guard(a,"LiveVideoUFIAnnouncementFetcher#subscribe");this.$6.length>0&&a(this.$6);return this.$8.add(a)};c.getInstance=function(a,d){var e=b("stableStringify")([a,d]),f=n[e];f==null&&(f=new c(a,d),n[e]=f);return f};return c}();e.exports=a}),null);
__d("nodeIsInConnection",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){__p&&__p();a=a.getLinkedRecords("edges");if(a==null){c&&c("Connection contains no edges field.");return!1}var d=!1;b=b.getDataID();if(b==null){c&&c("Search node has no ID.");return!1}for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h&&h.getLinkedRecord("node");if(i==null){c&&c("Edge at index "+a.indexOf(h)+" has no node.");continue}if(i.getDataID()===b){d=!0;break}}return d}e.exports=a}),null);
__d("UFI2LiveVideoCommentCreateSubscription",["RelayModern","RelayRuntime","displayCommentsConnectionCountUpdater","nodeIsInConnection","UFI2LiveVideoCommentCreateSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("UFI2LiveVideoCommentCreateSubscription.graphql");function a(a,c,d,e){__p&&__p();var f=c.input.feedback_id;return h(a,{subscription:j,variables:c,updater:function(a){__p&&__p();var c=a.getRootField("live_video_comment_create_subscribe");if(c==null)return;c=c.getLinkedRecord("comment");if(c==null)return;var d=c.getLinkedRecord("author");if(d==null)return;d=a.get(f);if(d==null)return;d=i.getConnection(d,"LiveFeedStoryCowatchingCommentList_top_level_comments");if(d==null)return;if(b("nodeIsInConnection")(d,c))return;c=i.createEdge(a,d,c,c.getType());if(c==null)return;i.insertEdgeBefore(d,c);b("displayCommentsConnectionCountUpdater").increment({feedbackId:f,feedbackSource:e,store:a})}})}e.exports={subscribe:a}}),null);
__d("UFI2LiveVideoCommentDeleteSubscription",["RelayModern","RelayRuntime","displayCommentsConnectionCountUpdater","UFI2LiveVideoCommentDeleteSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("UFI2LiveVideoCommentDeleteSubscription.graphql");function a(a,c,d){__p&&__p();var e={input:{feedback_id:c}};return h(a,{subscription:j,variables:e,updater:function(a){__p&&__p();var e=a.getRootField("comment_delete_subscribe");if(e==null)return;e=e.getValue("deleted_comment_id");if(e==null||typeof e!=="string")return;var f=a.get(c);if(f==null)return;f=i.getConnection(f,"LiveFeedStoryCowatchingCommentList_top_level_comments");if(f==null)return;i.deleteNode(f,e);b("displayCommentsConnectionCountUpdater").decrement({feedbackId:c,feedbackSource:d,store:a});k(a,c,e)}})}function k(a,b,c){__p&&__p();b=a.get(b);if(b==null)return;b=b.getLinkedRecord("latest_pinned_comment_event");if(b==null)return;var d=b.getLinkedRecord("pinned_comment");if(d==null)return;d=d.getValue("id");if(d===c){d=String(b.getValue("id"));c=a.get(d);if(c==null)return;c.setValue(null,"pinned_comment")}}e.exports={subscribe:a}}),null);
__d("UFI2LiveVideoPinnedCommentEventCreateSubscription",["RelayModern","UFI2LiveVideoPinnedCommentEventCreateSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=g!==void 0?g:g=b("UFI2LiveVideoPinnedCommentEventCreateSubscription.graphql");function a(a,b,c,d){__p&&__p();b={input:{video_id:b.video_id},feedbackID:c,useDefaultActor:d};return h(a,{subscription:i,variables:b,updater:function(a){__p&&__p();var b=a.getRootField("pinned_comment_event_create_subscribe");if(b==null)return;b=b.getLinkedRecord("pinned_comment_event");if(b==null)return;a=a.get(c);if(a==null)return;a.setLinkedRecord(b,"latest_pinned_comment_event")}})}e.exports={subscribe:a}}),null);
__d("useUFI2AutoScroller.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(d=b("React")).useCallback,h=d.useContext,i=d.useEffect,j=d.useRef,k=d.useState,l=150,m=d.createContext({containerRef:{current:null},isAutoScrollPaused:!1,lastChildRef:{current:null},setNumChildrenSincePaused:function(){}});function a(a){__p&&__p();var c=h(m),d=c.containerRef,e=c.isAutoScrollPaused,f=c.lastChildRef,g=c.setNumChildrenSincePaused;i(function(){__p&&__p();if(!e){d.current!=null&&(d.current.scrollTop=d.current.scrollHeight);return}var c=b("React").Children.map(a,function(a){return a.key}),h=f.current;f.current=c[c.length-1];if(h!=null){var i=0;for(var j=c.length-1;j>=0;--j)if(h!==c[j])i++;else break;g(function(a){return a+i})}},[a,d,e,f,g]);return a}function c(a,c){__p&&__p();c===void 0&&(c=l);var d=j(null),e=j(null),f=k(!1),h=f[0],n=f[1];f=k(0);var o=f[0],p=f[1];f=g(function(){if(d.current==null)return;d.current.scrollTop=d.current.scrollHeight;n(!1)},[]);var q=g(function(){if(d.current==null)return;var a=d.current.scrollHeight-(d.current.scrollTop+d.current.clientHeight)>c;h!==a&&n(a)},[h,c]);i(function(){h||(p(0),e.current=null)},[h]);a=b("React").jsx(m.Provider,{value:{containerRef:d,isAutoScrollPaused:h,lastChildRef:e,setNumChildrenSincePaused:p},children:a});return{childrenWithContext:a,containerRef:d,handleScroll:q,isAutoScrollPaused:h,numChildrenSincePaused:o,scrollToBottom:f}}e.exports={useAutoScrollChildren:a,useUFI2AutoScroller:c}}),null);
__d("useLiveFeedStoryVideoTimestamp",["requireCond","cr:957426"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:957426")}),null);
__d("UFI2TypingIndicator.react",["cx","fbt","requireDeferred","MercuryTypingAnimation_DEPRECATED.react","React","UFI2CometRelayCreateFragmentContainer","UFI2RealtimeContainer.react","debounceAcrossTransitions","useVisibilityObserver","UFI2TypingIndicator_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=(c=b("React")).useCallback,k=c.useEffect,l=c.useMemo,m=c.useState;d=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var n=b("requireDeferred")("UFI2TypingSubscription"),o=15*1e3;function p(a){a=a.feedback_typers;return(a==null?void 0:a.other_count)?h._("Someone is typing a comment..."):null}function a(a){__p&&__p();var c=a.feedback,d=a.relay;a=m({isTyping:!1,isVisible:!1,label:null});var e=a[0],f=e.label,g=e.isVisible,h=e.isTyping,i=a[1],q=l(function(){return p(c)},[c]);k(function(){i(function(a){return babelHelpers["extends"]({},a,{isTyping:Boolean(q),label:q!=null?q:a.label})})},[q]);var r=l(function(){return b("debounceAcrossTransitions")(function(){return i(function(a){return babelHelpers["extends"]({},a,{isTyping:!1})})},o)},[]);k(function(){h===!0&&r();return function(){return r.reset()}},[r,h]);e=j(function(){__p&&__p();var a=c.id,b=c.subscription_target_id;if(a==null||b==null)return null;var e=!1,f=function(){},g={dispose:function(){e=!0,f()}};n.onReady(function(c){if(!e){c=c.subscribe(d.environment,a,{onNext:function(){r()}},b);f=c.dispose}});return g},[r,c,d.environment]);a=j(function(){i(function(a){return babelHelpers["extends"]({},a,{isVisible:!1})})},[]);var s=j(function(){i(function(a){return babelHelpers["extends"]({},a,{isVisible:!0})})},[]);a=b("useVisibilityObserver")({onHidden:a,onVisible:s});return c.is_eligible_for_real_time_updates!==!0?null:b("React").jsx(b("UFI2RealtimeContainer.react"),{subscribe:e,children:b("React").jsx("div",{className:"_3bem",ref:a,children:b("React").jsxs("div",{className:(g?"_1kyy":"")+" _3bep"+(h===!0?" __f9":""),children:[b("React").jsx(b("MercuryTypingAnimation_DEPRECATED.react"),{className:"__fa"}),b("React").jsx("div",{className:"__fb",children:f})]})})})}e.exports=d(a,{feedback:i!==void 0?i:i=b("UFI2TypingIndicator_feedback.graphql")})}),null);
__d("edgeIsInConnection",["nodeIsInConnection"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=c.getLinkedRecord("node");if(c==null){d&&d("Search edge has no node.");return!1}return b("nodeIsInConnection")(a,c,d)}e.exports=a}),null);
__d("useInterval",["React","clearInterval","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useEffect,h=b("React").useRef;e.exports=function(a,c,d){__p&&__p();d===void 0&&(d=[]);var e=h(a);g(function(){e.current=a},[a]);var f=a!=null;g(function(){if(!f)return;var a=b("setIntervalAcrossTransitions")(function(){var a=e.current;if(a==null)return;a()},c);return function(){return b("clearInterval")(a)}},[f,c].concat(d))}}),null);
__d("LiveFeedStoryUFIRenderer.react",["cx","fbt","invariant","BootloadedComponent.react","Bootloader","CowatchingUFIConstants","FBLogger","FeedStoryUFISummary.react","JSResource","LiveFeedStoryCowatchingCommentList.react","LiveFeedStoryLiveStreamingCommentList.react","LiveFeedStoryPinnedComment.react","React","RelayModern","RelayRuntime","RelayUFI2Environment","SiteData","SubscriptionsHandler","UFI2ActorSelector.react","UFI2Comment.react","UFI2CommentActionLink.react","UFI2CommentDisabledNotice.react","UFI2CommentsConfig","UFI2CommentsFilterFallbackWarning.react","UFI2CommentsList.react","UFI2CommentsPager.react","UFI2Composer.react","UFI2CreateCommentMutation","UFI2FeedbackCommentReactSubscription","UFI2FeedbackReactSubscription","UFI2HiddenCommentsPlaceholder.react","UFI2LazyCodedErrorDialog.react","UFI2PaginationProgressIndicator.react","UFI2PrivateReplyActionLink.react","UFI2ReactionActionLink.react","UFI2RealtimeContainer.react","UFI2RealtimeRoot.react","UFI2RepliesCollapser.react","UFI2RepliesExpander.react","UFI2ScrollHoldingContainer.react","UFI2ShareActionLink.react","UFI2SurfaceContainerContext","UFI2ToggleCommentPermissionSubscription","UFI2TypingIndicator.react","UFI2ViewOption","UFI2ViewOptionsSelector.react","UFIVideoPlayerRegistry","VideoTimestampedCommentsConnectionHandler","XUISpinner.react","createUFI2AssociateReplyWithParentComposerPlugin","createUFI2ComposerTipPlugin","createUFI2DelightsComposerPlugin","createUFI2EmojiComposerPlugin","createUFI2EmoticonsComposerPlugin","createUFI2GIFComposerPlugin","createUFI2HashtagComposerPlugin","createUFI2LiveTypingBroadcastComposerPlugin","createUFI2MediaUploadComposerPlugin","createUFI2MentionsComposerPlugin","createUFI2PrefillMentionComposerPlugin","createUFI2SetReplyClickedComposerPlugin","createUFI2StarsComposerPlugin","createUFI2StickersComposerPlugin","cxMargin","edgeIsInConnection","getCommentCreateMutationPropertiesFromTrackingData","getViewportViewDurationPropertiesFromTrackingData","gkx","isCommentFresh","isCommentTokenOrFBID","lazyLoadComponent","logCommentViewportViewDuration","nullthrows","promiseDone","useInterval","LiveFeedStoryUFIRenderer_feedback.graphql","LiveFeedStoryUFIRenderer_group.graphql","LiveFeedStoryUFIRenderer_shareableConfig.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=b("CowatchingUFIConstants").LIVE_FEED_MAX_SHOWN_COMMENTS,n=(a=b("React")).useEffect,o=a.useRef,p=a.useState;c=b("RelayModern").createFragmentContainer;var q=b("RelayModern").fetchQuery;b("RelayModern").graphql;var r=b("RelayRuntime").ConnectionHandler,s=b("SiteData").pr,t=b("BootloadedComponent.react").create(b("JSResource")("UFI2AddCommentLink.react").__setRef("LiveFeedStoryUFIRenderer.react")),u=b("BootloadedComponent.react").create(b("JSResource")("UFI2CommentingAsConstituentHeader.react").__setRef("LiveFeedStoryUFIRenderer.react")),v=b("lazyLoadComponent")(b("JSResource")("UFI2CommentEditor.react").__setRef("LiveFeedStoryUFIRenderer.react"));function w(a){return a===1}function x(a){__p&&__p();var c=a.comment,d=a.group;a=a.streamLastViewTime;if(b("isCommentFresh")(c))return!0;if(d!=null&&a!=null){d=c.created_time;if(d!=null)return a<d}return!1}function y(a){return b("RelayUFI2Environment").forActor(a)}function z(a){__p&&__p();var c,d=a.feedback,e=a.group,f=d.viewer_actor,g=d.mentions_datasource_js_constructor_args_json,h=f&&f.id,i=y(h);return{composerPluginProps:{initialPlugins:[d.composer_tip!=null?b("createUFI2ComposerTipPlugin")({composer_tip:d.composer_tip}):null,e?b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{__type:"GroupMentions",sortFn:function(a,b){__p&&__p();var c=a.getAuxiliaryData().renderType,d=b.getAuxiliaryData().renderType;if(c===d){var e=a.getAuxiliaryData().indexRank,f=b.getAuxiliaryData().indexRank;if(e===-1&&f!==-1)return-1;else if(e!==-1&&f===-1)return 1;else return a.getOrder()-b.getOrder()}e={bot:1,member:0,non_member:2,place:3};return e[c]-e[d]},viewProps:{bot:{aux:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_aux:c:c,title:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_title:c:c},member:{aux:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.member_aux:c:c,title:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.member_title:c:c},nonMember:{aux:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_aux:c:c,title:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_title:c:c}}},upgradedPluginResource:b("JSResource")("createUpgradedUFI2GroupMentionsComposerPlugin").__setRef("LiveFeedStoryUFIRenderer.react")}):b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{},upgradedPluginResource:b("JSResource")("createUpgradedUFI2MentionsComposerPlugin").__setRef("LiveFeedStoryUFIRenderer.react")}),b("createUFI2HashtagComposerPlugin")(),b("gkx")("678369")?b("createUFI2DelightsComposerPlugin")({size:10}):null].concat(b("createUFI2EmojiComposerPlugin")({size:16}),[b("createUFI2EmoticonsComposerPlugin")({size:16}),a.feedback.can_viewer_comment_with_photo===!0&&a.feedback.can_viewer_comment_with_video===!0?b("createUFI2MediaUploadComposerPlugin")({feedback:{viewer_actor:f}}):null],a.feedback.can_viewer_comment_with_gif===!0?b("createUFI2GIFComposerPlugin")({ftentidentifier:a.feedback.id}):[],a.feedback.can_viewer_comment_with_sticker===!0?b("createUFI2StickersComposerPlugin")({environment:i,targetID:(e=d)!=null?(e=e.owning_profile)!=null?e.id:e:e}):[],d.can_viewer_comment_with_stars===!0?b("createUFI2StarsComposerPlugin")({environment:i,feedbackID:(c=d)!=null?c.id:c}):[],[b("createUFI2LiveTypingBroadcastComposerPlugin")({feedback:a.feedback,relayEnvironment:i}),b("createUFI2PrefillMentionComposerPlugin")(),b("createUFI2AssociateReplyWithParentComposerPlugin")(),b("createUFI2SetReplyClickedComposerPlugin")()]).filter(Boolean)},editingCommentID:null,maybeCodedError:null,mirroredCurrentActor:h,mirroredMentionsDataSourceJSON:g}}d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=new(b("SubscriptionsHandler"))(),d.state=z(d.props),d.$3=function(a){if(a.feedback_reaction===0)return a;var b=d.$4();if(b!=null){return babelHelpers["extends"]({},a,{time_anchor:{time:b,type:((b=d.props.feedback.associated_video)==null?void 0:b.is_live_streaming)===!0?"LIVE_VIDEO":"ON_DEMAND_VIDEO"}})}return a},d.$5=function(){var a=d.props.feedback,c=a.id;a=a.subscription_target_id;return c!=null&&a!=null?b("UFI2FeedbackCommentReactSubscription").subscribe(y(d.state.mirroredCurrentActor),{top_level_feedback_id:c},d.props.useDefaultActor,a,d.context.isComet):null},d.$6=function(){var a=d.props.feedback,c=a.id;a=a.subscription_target_id;return c!=null&&a!=null?b("UFI2FeedbackReactSubscription").subscribe(y(d.state.mirroredCurrentActor),{feedback_id:c},d.props.useDefaultActor,a):null},d.$7=function(){var a=d.props.feedback,c=a.id;a=a.subscription_target_id;return c!=null&&a!=null?b("UFI2ToggleCommentPermissionSubscription").subscribe(y(d.state.mirroredCurrentActor),{feedback_id:c},d.props.useDefaultActor,a):null},d.$8=function(){d.$1&&d.$1.Actions.toggleList({focusComposer:!1})},d.$9=function(a){d.$1?(d.$1.Actions.expandList({focusComposer:!0,scrollToComposer:!0}),a.preventDefault()):b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d.props.feedbackTargetID||"UNKNOWN").mustfix("The 'comment' button was clicked but no comments list ref could be found. That ref is needed to make sure the comments list is open.")},d.$10=function(){d.$1&&d.$1.Actions.expandList({focusComposer:!0,scrollToComposer:!0})},d.$11=b("React").createRef(),d.$12=function(a){__p&&__p();var c=a.actorID,e=a.clientID,f=a.commentData,g=a.entitiesByID,h=a.environment,i=a.feedLocation,j=a.feedbackSource,k=a.focusCommentID,l=a.getTrackingDataFn,m=a.topLevelFeedbackID;a=a.useDefaultActor;if(!f)return;var n=d.$4(),o=function(a,c){var d=b("VideoTimestampedCommentsConnectionHandler").getConnection(a,"LiveFeedStoryLiveStreaming_video_timestamped_comments");d!=null&&b("edgeIsInConnection")(d,c)===!1&&b("VideoTimestampedCommentsConnectionHandler").insertEdge(d,c);d=r.getConnection(a,"LiveFeedStoryCowatchingCommentList_top_level_comments");d!=null&&b("edgeIsInConnection")(d,c)===!1&&r.insertEdgeBefore(d,c)};b("UFI2CreateCommentMutation").commit({actorID:c,clientID:e,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,containerMapping:b("nullthrows")((c=d.context)==null?void 0:c.containerMapping),entitiesByID:g,environment:h,feedLocation:i,feedbackSource:j,focusCommentID:k,input:babelHelpers["extends"]({},f,b("getCommentCreateMutationPropertiesFromTrackingData")(l),(e={},e[((c=d.props.feedback)==null?void 0:(g=c.associated_video)==null?void 0:g.is_live_streaming)===!0?"live_video_timestamp":"vod_video_timestamp"]=n,e)),isComet:d.context.isComet,onError:d.$13,topLevelFeedbackId:m,updater:o,useDefaultActor:a})},d.$14=function(){d.setState(function(a){return a.maybeCodedError==null?null:{maybeCodedError:babelHelpers["extends"]({},a.maybeCodedError,{acknowledged:!0})}})},d.$13=function(a){d.setState({maybeCodedError:{acknowledged:!1,error:a}})},d.$15=function(a){d.setState({editingCommentID:a})},d.$16=function(a){__p&&__p();var c=a.comment;a=a.feedback;a=a==null?void 0:(a=a.associated_video)==null?void 0:a.id;if(a==null)return;var e=b("UFIVideoPlayerRegistry").findVideoPlayerControllerForElement(d.$11.current,a);if(e==null)return;var f=e.getVideoURL();if(f==null)return;d.$2.addSubscriptions(b("Bootloader").loadModules(["TahoeController","URI"],function(a,b){b=new b(f).setQueryData({comment_id:c.legacy_fbid,ref:"tahoe"});a.openFromVideoPlayer(e,b,null,null,"live_video_reply_click",e.getPlayerOrigin(),e.getPlayerSuborigin())},"LiveFeedStoryUFIRenderer.react"))},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,b){var c,d=b.mirroredCurrentActor;b=b.mirroredMentionsDataSourceJSON;var e=a.feedback;return((c=e)!=null?(c=c.viewer_actor)!=null?c.id:c:c)!==d||e.mentions_datasource_js_constructor_args_json!==b?z(a):null};var d=c.prototype;d.componentWillUnmount=function(){this.$2.release()};d.$4=function(){var a;a=(a=this.props.feedback)==null?void 0:(a=a.associated_video)==null?void 0:a.id;if(a==null||this.$11.current==null)return;a=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(this.$11.current,a);if(a==null)return;return Math.floor(a)};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.displayCommentsContext,e=c.feedLocation,f=c.feedback,g=c.feedbackSource,h=c.feedbackTargetID,i=c.group,j=c.focusCommentID,k=c.onActorChange,l=c.shareableConfig,m=c.streamLastViewTime,n=c.storyRenderLocation,o=c.useDefaultActor;c=this.state;var p=c.composerPluginProps,q=c.editingCommentID;c=c.maybeCodedError;var r={composerPluginProps:p,editingCommentID:q,feedLocation:e,feedback:f,feedbackSource:g,feedbackTargetID:h,focusCommentID:j,isCommentFresh:function(a){return x({comment:a,feedLocation:e,group:i,streamLastViewTime:m})},onAddCommentClick:this.$10,onCommentReply:this.$16,onCommitCommentCreate:this.$12,onEditCommentError:this.$13,setEditingCommentID:this.$15,storyRenderLocation:n,useDefaultActor:o};return(p=b("React")).jsxs("div",{ref:this.$11,children:[p.jsx(b("UFI2RealtimeRoot.react"),{enabled:f.is_eligible_for_real_time_updates===!0,children:p.jsx(b("UFI2RealtimeContainer.react"),{subscribe:this.$5,children:p.jsx(b("UFI2CommentsList.react"),{displayCommentsContext:d,feedLocation:e,feedback:f,feedbackSource:g,focusCommentID:j,listRef:function(b){a.$1=b},useDefaultActor:o,children:function(c){var d;d=(f==null?void 0:(d=f.associated_video)==null?void 0:d.is_live_streaming)===!0?b("React").jsx(D,babelHelpers["extends"]({commentsListRenderProps:c},r)):b("React").jsx(E,babelHelpers["extends"]({commentsListRenderProps:c},r));f.supports_disabling_comments!==!1&&(d=b("React").jsx(b("UFI2RealtimeContainer.react"),{subscribe:a.$7,children:d}));return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("UFI2RealtimeContainer.react"),{subscribe:a.$6,children:b("React").jsx(A,{feedback:f,feedbackSource:g,feedbackTargetID:h,mutationInputAugmenter:a.$3,onActorChange:k,onClickCommentsCount:a.$8,onCommentClick:a.$9,shareableConfig:l,useDefaultActor:o})}),d]})}})})}),c&&b("React").jsx(b("UFI2LazyCodedErrorDialog.react"),{error:c.error,onHide:this.$14,shown:c.acknowledged===!1})]})};return c}(a.Component);d.displayName="LiveFeedStoryUFIRenderer";d.contextType=b("UFI2SurfaceContainerContext");function A(a){var c,d=a.feedback,e=a.feedbackTargetID,f=a.feedbackSource,g=a.mutationInputAugmenter,h=a.onActorChange,i=a.onCommentClick,j=a.onClickCommentsCount,k=a.shareableConfig;a=a.useDefaultActor;j=(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(b("FeedStoryUFISummary.react"),{feedback:d,onClickCommentsCount:j}),c.jsxs("div",{className:"_6w18",children:[d.can_see_voice_switcher===!0?b("React").jsx(b("UFI2ActorSelector.react"),{className:"_6w1g",feedback:d,onActorChange:h}):null,b("React").jsxs("div",{className:"_6w1h",children:[d.can_viewer_react===!0&&b("React").jsx(b("UFI2ReactionActionLink.react"),{enableAnimations:!0,feedback:d,feedbackSource:f,mutationInputAugmenter:g,useDefaultActor:a}),d.can_viewer_comment===!0&&b("React").jsx(b("UFI2CommentActionLink.react"),{onClick:i}),b("React").jsx(b("UFI2ShareActionLink.react"),{feedback:d,feedbackTargetID:e,shareableConfig:k}),b("React").jsx(b("UFI2PrivateReplyActionLink.react"),{feedback:d,feedbackSource:f,seeResponseLabel:!1})]})]})]});return w(f)?b("React").jsx(b("UFI2ScrollHoldingContainer.react"),{children:j}):j}function B(a){__p&&__p();var c=a.enabled,d=a.element,e=a.feedback,f=a.viewOption,g=a.setViewOption,h=o(!1),i=o(null),j=e==null?void 0:(a=e.associated_video)==null?void 0:a.id,k=e==null?void 0:(a=e.viewer_actor)==null?void 0:a.id;n(function(){if(!c)return;b("promiseDone")(q(y(k),b("LiveFeedStoryLiveStreamingCommentList.react").query,{commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,feedbackID:e==null?void 0:e.id}).then(function(a){i.current=a==null?void 0:(a=a.feedback)==null?void 0:(a=a.video_timestamped_comments)==null?void 0:(a=a.edges[0])==null?void 0:(a=a.node)==null?void 0:a.timestamp_in_video}))},[k,c,e]);n(function(){return function(){h.current=!0}},[f]);b("useInterval")(function(){if(h.current||j==null||d.current==null||!c)return;var a=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(d.current,j);if(a==null)return;i.current!=null&&a>i.current&&g({viewOption:"LIVE_STREAMING"})},1e3,[d,j,c])}function C(a){__p&&__p();var c,d=a.commentsListRenderProps,e=a.composerPluginProps,f=a.feedback,g=a.onCommitCommentCreate,h=a.editingComment,j=a.setEditingComment,k=a.feedbackSource,l=a.onEditCommentError;a=a.storyRenderLocation;d.depth===0||i(0,2951);var m=d.Selectors,n=d.depth,o=d.getComposerProps,p=d.listState,q=d.viewOption,r=m.isComposerVisible({depth:n,state:p});q=b("UFI2ViewOption").isChronologicalOrder(q);m=m.getVisibleCommentsCount({depth:n,state:p});p=f==null?void 0:f.viewer_actor;c=(c=f)!=null?c.constituent_badge_banner_link:c;if(h){var s=h.id;if(s==null){b("FBLogger")("ufi2").mustfix("Editing comment ID is null, this was served from GraphQL so we should investigate why this is the case, trace value of comment { id }");return null}return b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx(v,babelHelpers["extends"]({},e,d.getCommentEditorProps(),{comment:h,commentId:s,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,depth:0,feedbackSource:k,onError:l,onFinishEdit:function(){return j(null)},storyRenderLocation:a}))})}d=f.can_viewer_comment===!0;return f.have_comments_been_disabled===!0||f.is_viewer_muted===!0?b("React").jsx(b("UFI2CommentDisabledNotice.react"),{feedback:f}):r&&d&&p!=null?b("React").jsxs(b("React").Fragment,{children:[c!=null?b("React").jsx(u,{bootloadPlaceholder:b("React").jsx("div",{className:"_3-8t",children:b("React").jsx(b("XUISpinner.react"),{})}),uri:c}):null,b("React").createElement(b("UFI2Composer.react"),babelHelpers["extends"]({},e,o(),{actor:p,className:"_6w1l _6w1m"+(m===0?" _6w1n":"")+(!q&&m>0?" _6w1o":"")+" clearfix",commentAction:"ADD",depth:n,key:"composerForUID"+((h=p.id)!=null?h:"UNKNOWN"),onCommit:g}))]}):null}function D(a){var c=a.feedback,d=a.feedbackSource,e=a.feedLocation,f=a.storyRenderLocation,g=a.useDefaultActor,h=a.onCommentReply,i=p(null),j=i[0];i=i[1];return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(C,babelHelpers["extends"]({},a,{editingComment:j,setEditingComment:i})),c.id==null?null:b("React").jsx(b("LiveFeedStoryCowatchingCommentList.react"),{environment:b("RelayUFI2Environment").forActor((a=c.viewer_actor)==null?void 0:a.id),feedback:c,feedbackSource:d,feedLocation:e,fetchAnnouncementsForSurface:"POST",filterPinnedComment:!0,maxShownComments:m,onEdit:i,onReply:h,reverseList:!1,showPinnedComment:!0,storyRenderLocation:f,useDefaultActor:g})]})}function E(a){__p&&__p();var c=a.commentsListRenderProps,d=a.composerPluginProps,e=a.editingCommentID,f=a.feedback,g=a.feedbackSource,j=a.feedbackTargetID,k=a.isCommentFresh,l=a.focusCommentID,m=a.onAddCommentClick,n=a.onCommentReply,q=a.onCommitCommentCreate,r=a.onEditCommentError,u=a.setEditingCommentID,x=a.storyRenderLocation,z=a.useDefaultActor,A=p(null),D=A[0];A=A[1];var E=c.Actions.setViewOption,G=c.Selectors,H=c.depth,I=c.getCommentEditorProps,J=c.getCommentProps,K=c.getFilterWarningPropsForOlderComments,L=c.getHiddenCommentsPlaceholderProps,M=c.getPagerPropsForNewerComments,N=c.getPagerPropsForOlderComments,O=c.getPaginationProgressProps,P=c.getNestedCommentsListProps,Q=c.listState,R=c.onCommentsListMouseEnter,S=c.onCommentsListMouseLeave,T=c.totalCount,U=c.viewOption;H===0||i(0,2951);c=o(null);var V=x==="permalink"||x==="group_permalink";B({element:c,enabled:V&&T>5,feedback:f,setViewOption:E,viewOption:U});V=G.hasPagedInDirection({depth:H,direction:"forward",state:Q});var W=b("UFI2ViewOption").isChronologicalOrder(U),X=G.isListExpanded({depth:H,state:Q}),Y=G.isListLoading({depth:H,state:Q});T=T>0&&(f.num_localized_comment_orderings||0)>1;var Z=G.getVisibleCommentsCount({depth:H,state:Q});if(!X)return null;if(X&&Z===0&&Y)return b("React").jsx("div",{className:"_6w1i _6w1j",children:b("React").jsx(b("XUISpinner.react"),{className:"_6w1k",size:"large"})});X=G.getVisibleCommentsWithHiddenCommentsCollapsed({depth:H,reverse:W,state:Q});var $=(Y=f)!=null?Y.viewer_actor:Y;Y=f.can_viewer_comment===!0;Y&&!$&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",j||"UNKNOWN").mustfix("FeedStoryUFI: Cant render composer without actor");Y=b("React").jsx(C,babelHelpers["extends"]({},a,{editingComment:D,setEditingComment:A}));j=U==="LIVE_STREAMING";a=j?null:b("React").jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},M(),{className:"_6w1p"}));D=j?null:b("React").jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},N(),{className:"_6w1p"}));M=!W&&Y&&V&&!j;N=G.isPagerVisible({depth:H,direction:"forward",state:Q})&&!j?b("React").jsx(b("UFI2PaginationProgressIndicator.react"),babelHelpers["extends"]({},O(),{className:"_6w1p"})):null;V=b("React").jsxs("div",{className:"_6w1i","data-testid":"UFI2CommentsList/root_depth_0",onMouseEnter:R,onMouseLeave:S,ref:c,children:[b("React").jsx("h6",{className:"accessible_elem",children:h._("Comments")}),b("React").jsxs("div",{className:"_6w1q _77bf",children:[W?D:a,T?b("React").jsx("div",{className:"_6w1r",children:b("React").jsx(b("UFI2ViewOptionsSelector.react"),{alignh:"left",caretClassName:"_6w1t",className:"_6w1u",feedback:f,linkClassName:"_6w1v",onChange:function(a){return E({viewOption:a})},selectedViewOption:U})}):W?N:null]}),!W&&Y,b("React").jsx(b("LiveFeedStoryPinnedComment.react"),{environment:y($==null?void 0:$.id),feedback:f,feedbackSource:g,onEdit:A,storyRenderLocation:x,useDefaultActor:z}),U==="LIVE_STREAMING"?b("React").jsx(b("LiveFeedStoryLiveStreamingCommentList.react"),{environment:y($==null?void 0:$.id),feedbackSource:g,onEdit:A,onReply:n,storyRenderLocation:x,variables:{commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,feedbackID:f.id,scale:s,useDefaultActor:z}}):Z>0?b("React").jsx("ul",{className:"_77bg",children:X.map(function(a,c){__p&&__p();if(a.state==="COLLAPSED"){var h;return b("React").jsx("li",{children:b("React").jsx(b("UFI2HiddenCommentsPlaceholder.react"),babelHelpers["extends"]({},L(),{className:"_6w1l"+(c===0?" _77bh":""),commentIDs:a.comments.map(function(a){return a.id})}))},"hidden-"+((h=(h=a.comments[0])==null?void 0:h.id)!=null?h:c))}else if(a.state==="VISIBLE")return b("React").jsx(b("React").Fragment,{children:a.comments.map(function(a,h){var i=a.id,j=a.optimistic_action==null&&a.optimistic_error==null,m=J(a);h=b("React").jsx(b("UFI2Comment.react"),babelHelpers["extends"]({},m,{className:"_6w1l"+(h===0&&c===0?" _77bh":"")+" clearfix",feedbackSource:g,isCommentFresh:k,isHighlighted:b("isCommentTokenOrFBID")(l,a),logCommentViewportViewDuration:j?function(a,c){b("logCommentViewportViewDuration")(babelHelpers["extends"]({commentID:i,isLivePinnedComment:!1,isReply:!1,milliseconds:a,storyRenderLocation:x},b("getViewportViewDurationPropertiesFromTrackingData")(c)))}:null,onEdit:function(){return u(i)},storyRenderLocation:x}));return b("React").jsxs("li",{children:[i===e?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{"aria-busy":"true",className:"aero",children:h}),children:b("React").jsx(v,babelHelpers["extends"]({},d,I(),{comment:a,commentId:i,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,depth:0,feedbackSource:g,onError:r,onFinishEdit:function(){return u(null)},storyRenderLocation:x}))}):h,b("React").jsx(b("UFI2CommentsList.react"),babelHelpers["extends"]({},P(i),{children:function(a){return b("React").jsx(F,{composerPluginProps:d,currentActor:$,editingCommentID:e,feedback:f,feedbackSource:g,focusCommentID:l,isCommentFresh:k,onCommitCommentCreate:q,onEditCommentError:r,repliesListRenderProps:a,setEditingCommentID:u,storyRenderLocation:x,topLevelViewOption:U})}}))]},m.key||i)})},c);return null})}):null,U==="RANKED_THREADED"&&b("React").jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},K(),{className:"_6w1l"})),b("React").jsxs("div",{className:"_6w1q _77bi",children:[W?a:D,W?null:N]}),b("React").jsx(b("UFI2TypingIndicator.react"),{feedback:f}),W&&Y,M===!0&&b("React").jsx(t,{bootloadPlaceholder:b("React").jsx("div",{className:"_6w1w"}),onClick:m})]});return w(g)?b("React").jsx(b("UFI2ScrollHoldingContainer.react"),{children:V}):V}var F=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.composerPluginProps,d=a.currentActor,e=a.editingCommentID,f=a.feedbackSource,g=a.isCommentFresh,h=a.focusCommentID,j=a.onCommitCommentCreate,k=a.onEditCommentError,l=a.repliesListRenderProps,m=a.setEditingCommentID,n=a.storyRenderLocation;a=a.topLevelViewOption;l.depth===1||i(0,2952);var o=l.Selectors,p=l.depth,q=l.getCommentEditorProps,r=l.getCommentProps,s=l.getComposerProps,t=l.getFilterWarningPropsForOlderComments,u=l.getFilterWarningPropsForNewerComments,x=l.getHiddenCommentsPlaceholderProps,y=l.getPagerPropsForNewerComments,z=l.getPagerPropsForOlderComments,A=l.getRepliesCollapserProps,B=l.getRepliesExpanderProps,C=l.listState,D=l.onCommentsListMouseEnter;l=l.onCommentsListMouseLeave;var E=o.getVisibleCommentsWithHiddenCommentsCollapsed({depth:p,reverse:!0,state:C}),F=o.isComposerVisible({depth:p,state:C}),G=o.isListExpanded({depth:p,state:C}),H=o.isRepliesExpanderLoading({depth:p,state:C});o=o.getVisibleCommentsCount({depth:p,state:C});G=!G||H?b("React").jsx(b("UFI2RepliesExpander.react"),babelHelpers["extends"]({},B(),{className:"_6w1x _6w1p"})):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("UFI2RepliesCollapser.react"),babelHelpers["extends"]({},A(),{className:"_6w1y"})),b("React").jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},z(),{className:"_6w1x _6w1p"})),a==="RANKED_THREADED"&&b("React").jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},t(),{className:"_6w1z clearfix",viewOption:a})),o>0?b("React").jsx("ul",{children:E.map(function(a,d){__p&&__p();if(a.state==="COLLAPSED"){var i;return b("React").jsx("li",{children:b("React").jsx(b("UFI2HiddenCommentsPlaceholder.react"),babelHelpers["extends"]({},x(),{className:"_6w1l",commentIDs:a.comments.map(function(a){return a.id})}))},"hidden-"+((i=(i=a.comments[0])==null?void 0:i.id)!=null?i:d))}else if(a.state==="VISIBLE")return b("React").jsx(b("React").Fragment,{children:a.comments.map(function(a){var d=a.id,i=a.optimistic_action==null&&a.optimistic_error==null,j=r(a);i=b("React").jsx(b("UFI2Comment.react"),babelHelpers["extends"]({},j,{className:"_6w1z clearfix",feedbackSource:f,isCommentFresh:g,isHighlighted:b("isCommentTokenOrFBID")(h,a),logCommentViewportViewDuration:i?function(a,c){b("logCommentViewportViewDuration")(babelHelpers["extends"]({commentID:d,isLivePinnedComment:!1,isReply:!0,milliseconds:a,storyRenderLocation:n},b("getViewportViewDurationPropertiesFromTrackingData")(c)))}:null,onEdit:function(){return m(d)},storyRenderLocation:n}));return b("React").jsx("li",{children:d===e?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{"aria-busy":"true",className:"aero",children:i}),children:b("React").jsx(v,babelHelpers["extends"]({},c,q(),{comment:a,commentId:d,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,depth:1,onError:k,onFinishEdit:function(){return m(null)},storyRenderLocation:n}))}):i},j.key||d)})},d);return null})}):null,a==="RANKED_THREADED"&&b("React").jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},u(),{className:"_6w1z clearfix",viewOption:a})),b("React").jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},y(),{className:"_6w1x _6w1p"})),F&&d!=null?b("React").createElement(b("UFI2Composer.react"),babelHelpers["extends"]({},c,s(),{actor:d,className:"_6w1-",commentAction:"ADD",depth:p,key:"composerForUID"+((C=d.id)!=null?C:"UNKNOWN"),onCommit:j})):null]});G=b("React").jsx("div",{className:"_6w1_","data-testid":"UFI2CommentsList/root_depth_1",onMouseEnter:D,onMouseLeave:l,children:G});w(f)&&(G=b("React").jsx(b("UFI2ScrollHoldingContainer.react"),{children:G}));return G};return a}(a.Component);e.exports=c(d,{feedback:j!==void 0?j:j=b("LiveFeedStoryUFIRenderer_feedback.graphql"),group:k!==void 0?k:k=b("LiveFeedStoryUFIRenderer_group.graphql"),shareableConfig:l!==void 0?l:l=b("LiveFeedStoryUFIRenderer_shareableConfig.graphql")})}),null);
__d("useLiveFeedStoryVideoTimestampBlue",["React","UFIVideoPlayerRegistry","useInterval"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useState;a=function(a,c){__p&&__p();var d=g(0),e=d[0],f=d[1];b("useInterval")(function(){if(a==null||c.current==null)return;var d=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerForElement(c.current,a);if(d!=null&&d.isWatchAndScroll())return;d=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(c.current,a);if(d==null)return;f(d)},1e3,[a,c]);return e};e.exports=a}),null);